(()=>{var e={};e.id=279,e.ids=[279],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},10202:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(70260),i=r(28203),s=r(25155),n=r.n(s),l=r(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27183)),"/Users/yakkshit/Downloads/project/temp/technical-tasks/udam/main/technical/app/checkout/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"/Users/yakkshit/Downloads/project/temp/technical-tasks/udam/main/technical/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,61129)),"/Users/yakkshit/Downloads/project/temp/technical-tasks/udam/main/technical/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/yakkshit/Downloads/project/temp/technical-tasks/udam/main/technical/app/checkout/page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2518:(e,t,r)=>{Promise.resolve().then(r.bind(r,27183))},97790:(e,t,r)=>{Promise.resolve().then(r.bind(r,16150))},16150:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(45512),i=r(58009),s=r(79334),n=r(50367),l=r(92273),o=r(15800),d=r(56689),c=r(41257),h=r(26377),p=r(58493),m=r(78100),u=r(9334),x=r(6783),j=r(36246),b=r(45103);let{Title:f,Text:g}=o.A,y=process.env.API_AUTH_KEY||"qwerty123";function v(){let{notification:e}=d.A.useApp(),t=(0,s.useRouter)(),r=(0,l.wA)(),n=(0,l.d4)(x.VH),o=(0,l.d4)(x.rk),[v,A]=(0,i.useState)(!1),[k]=c.A.useForm(),w=o>50?0:5,$=.07*o,N=o+w+$,z=async a=>{A(!0);try{if(!(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:y},body:JSON.stringify({items:n,total:N,shippingAddress:{firstName:a.firstName,lastName:a.lastName,address:a.address,apartment:a.apartment,city:a.city,state:a.state,zipCode:a.zipCode,phone:a.phone},paymentMethod:a.paymentMethod})})).ok)throw Error("Failed to place order");r((0,x.sX)()),await fetch("/api/cart",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:y},body:JSON.stringify({clearAll:!0})}),e.success({message:"Order placed successfully",description:"Thank you for your purchase!"}),t.push("/account/orders")}catch(t){e.error({message:"Error",description:"Failed to place order. Please try again."})}finally{A(!1)}};return(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)(f,{level:2,children:"Checkout"}),(0,a.jsxs)(c.A,{form:k,layout:"vertical",onFinish:z,className:"space-y-6",children:[(0,a.jsx)(j.A,{title:"Contact Information",children:(0,a.jsx)(c.A.Item,{name:"email",label:"Email",rules:[{required:!0,type:"email"}],children:(0,a.jsx)(h.A,{})})}),(0,a.jsxs)(j.A,{title:"Shipping Address",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(c.A.Item,{name:"firstName",label:"First name",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})}),(0,a.jsx)(c.A.Item,{name:"lastName",label:"Last name",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})})]}),(0,a.jsx)(c.A.Item,{name:"address",label:"Address",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})}),(0,a.jsx)(c.A.Item,{name:"apartment",label:"Apartment, suite, etc.",children:(0,a.jsx)(h.A,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(c.A.Item,{name:"city",label:"City",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})}),(0,a.jsx)(c.A.Item,{name:"state",label:"State",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})}),(0,a.jsx)(c.A.Item,{name:"zipCode",label:"ZIP code",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})})]}),(0,a.jsx)(c.A.Item,{name:"phone",label:"Phone",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})})]}),(0,a.jsxs)(j.A,{title:"Payment Method",children:[(0,a.jsx)(c.A.Item,{name:"paymentMethod",rules:[{required:!0}],initialValue:"credit-card",children:(0,a.jsx)(p.Ay.Group,{className:"w-full",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(p.Ay,{value:"credit-card",className:"w-full pb-4 border-b",children:"Credit Card"}),(0,a.jsx)(p.Ay,{value:"paypal",className:"w-full",children:"PayPal"})]})})}),(0,a.jsx)(c.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.paymentMethod!==t.paymentMethod,children:({getFieldValue:e})=>"credit-card"===e("paymentMethod")&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c.A.Item,{name:"cardNumber",label:"Card number",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(c.A.Item,{name:"cardExpiry",label:"Expiration date",rules:[{required:!0}],children:(0,a.jsx)(h.A,{placeholder:"MM/YY"})}),(0,a.jsx)(c.A.Item,{name:"cardCvc",label:"CVC",rules:[{required:!0}],children:(0,a.jsx)(h.A,{})})]})]})})]}),(0,a.jsx)(m.Ay,{type:"primary",htmlType:"submit",size:"large",loading:v,block:!0,children:"Place Order"})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)(j.A,{children:[(0,a.jsx)(f,{level:4,children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-4",children:[n.map(e=>(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"relative w-16 h-16",children:(0,a.jsx)(b.default,{src:e.image||"/placeholder.svg",alt:e.title,fill:!0,className:"object-contain"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(g,{className:"block",children:e.title}),(0,a.jsxs)(g,{type:"secondary",className:"block",children:[e.color," | ",e.size," | Qty: ",e.quantity]}),(0,a.jsxs)(g,{className:"block",children:["$",(e.price*e.quantity).toFixed(2)]})]})]},`${e.id}-${e.color}-${e.size}`)),(0,a.jsx)(u.A,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(g,{children:"Subtotal"}),(0,a.jsxs)(g,{children:["$",o.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(g,{children:"Shipping"}),(0,a.jsxs)(g,{children:["$",w.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(g,{children:"Tax"}),(0,a.jsxs)(g,{children:["$",$.toFixed(2)]})]}),(0,a.jsx)(u.A,{}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(g,{strong:!0,children:"Total"}),(0,a.jsxs)(g,{strong:!0,children:["$",N.toFixed(2)]})]})]})]})]})})]})})}var A=r(21419);function k(){let{user:e}=(0,n.A)();return((0,s.useRouter)(),void 0===e)?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)(A.A,{size:"large"})}):null===e?null:(0,a.jsx)(v,{})}},9334:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(58009),i=r(56073),s=r.n(i),n=r(27343),l=r(1439),o=r(47285),d=r(13662),c=r(10941);let h=e=>{let{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:a,lineWidth:i,textPaddingInline:s,orientationMargin:n,verticalMarginInline:d}=e;return{[t]:Object.assign(Object.assign({},(0,o.dF)(e)),{borderBlockStart:`${(0,l.zA)(i)} solid ${a}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:d,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,l.zA)(i)} solid ${a}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,l.zA)(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,l.zA)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${a}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,l.zA)(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-start`]:{"&::before":{width:`calc(${n} * 100%)`},"&::after":{width:`calc(100% - ${n} * 100%)`}},[`&-horizontal${t}-with-text-end`]:{"&::before":{width:`calc(100% - ${n} * 100%)`},"&::after":{width:`calc(${n} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:s},"&-dashed":{background:"none",borderColor:a,borderStyle:"dashed",borderWidth:`${(0,l.zA)(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:a,borderStyle:"dotted",borderWidth:`${(0,l.zA)(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-start${t}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:r}},[`&-horizontal${t}-with-text-end${t}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:r}}})}},p=(0,d.OF)("Divider",e=>[h((0,c.oX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0}))],e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}});var m=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r};let u=e=>{let{getPrefixCls:t,direction:r,className:i,style:l}=(0,n.TP)("divider"),{prefixCls:o,type:d="horizontal",orientation:c="center",orientationMargin:h,className:u,rootClassName:x,children:j,dashed:b,variant:f="solid",plain:g,style:y}=e,v=m(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),A=t("divider",o),[k,w,$]=p(A),N=!!j,z=a.useMemo(()=>"left"===c?"rtl"===r?"end":"start":"right"===c?"rtl"===r?"start":"end":c,[r,c]),I="start"===z&&null!=h,S="end"===z&&null!=h,P=s()(A,i,w,$,`${A}-${d}`,{[`${A}-with-text`]:N,[`${A}-with-text-${z}`]:N,[`${A}-dashed`]:!!b,[`${A}-${f}`]:"solid"!==f,[`${A}-plain`]:!!g,[`${A}-rtl`]:"rtl"===r,[`${A}-no-default-orientation-margin-start`]:I,[`${A}-no-default-orientation-margin-end`]:S},u,x),C=a.useMemo(()=>"number"==typeof h?h:/^\d+$/.test(h)?Number(h):h,[h]);return k(a.createElement("div",Object.assign({className:P,style:Object.assign(Object.assign({},l),y)},v,{role:"separator"}),j&&"vertical"!==d&&a.createElement("span",{className:`${A}-inner-text`,style:{marginInlineStart:I?C:void 0,marginInlineEnd:S?C:void 0}},j)))}},27183:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/yakkshit/Downloads/project/temp/technical-tasks/udam/main/technical/app/checkout/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/yakkshit/Downloads/project/temp/technical-tasks/udam/main/technical/app/checkout/page.tsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,763,103,419,257,493,233],()=>r(10202));module.exports=a})();
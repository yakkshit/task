(()=>{var e={};e.id=20,e.ids=[20],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},94735:e=>{"use strict";e.exports=require("events")},44224:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>y,routeModule:()=>h,serverHooks:()=>v,workAsyncStorage:()=>j,workUnitAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{DELETE:()=>x,GET:()=>l,POST:()=>m});var n=r(42706),o=r(28203),a=r(45994),i=r(39187),u=r(89458);let c=new(r.n(u)())({stdTTL:600}),p=process.env.API_AUTH_KEY||"qwerty123";function d(e){return e.headers.get("Authorization")===p}async function l(e){if(!d(e))return i.NextResponse.json({error:"Unauthorized"},{status:401});try{let e=c.get("cart")||{items:[]};return i.NextResponse.json(e)}catch(e){return i.NextResponse.json({error:"Failed to fetch cart"},{status:500})}}async function m(e){if(!d(e))return i.NextResponse.json({error:"Unauthorized"},{status:401});try{let t=await e.json(),r=c.get("cart")||{items:[]},s=r.items.findIndex(e=>e.id===t.item.id&&e.color===t.item.color&&e.size===t.item.size);return s>-1?r.items[s].quantity+=t.item.quantity:r.items.push(t.item),c.set("cart",r),i.NextResponse.json(r)}catch(e){return i.NextResponse.json({error:"Failed to update cart"},{status:500})}}async function x(e){if(!d(e))return i.NextResponse.json({error:"Unauthorized"},{status:401});try{let t=await e.json(),r=c.get("cart")||{items:[]};return r.items=r.items.filter(e=>!(e.id===t.id&&e.color===t.color&&e.size===t.size)),c.set("cart",r),i.NextResponse.json(r)}catch(e){return i.NextResponse.json({error:"Failed to remove item from cart"},{status:500})}}let h=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/cart/route",pathname:"/api/cart",filename:"route",bundlePath:"app/api/cart/route"},resolvedPagePath:"/Users/yakkshit/Downloads/project/temp/technical-tasks/udam/main/technical/app/api/cart/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:j,workUnitAsyncStorage:f,serverHooks:v}=h;function y(){return(0,a.patchFetch)({workAsyncStorage:j,workUnitAsyncStorage:f})}},96487:()=>{},78335:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452,458],()=>r(44224));module.exports=s})();
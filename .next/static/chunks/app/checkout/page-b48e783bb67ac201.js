(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8279],{36378:(e,t,r)=>{Promise.resolve().then(r.bind(r,75770))},75770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(95155),i=r(12115),n=r(76046),l=r(78365),s=r(83391),o=r(20418),d=r(90088),c=r(83414),u=r(62236),h=r(89351),m=r(79005),p=r(9365),f=r(6769),x=r(4766),y=r(5565),j=r(2818);let{Title:g,Text:b}=o.A,A=j.env.API_AUTH_KEY||"qwerty123";function v(){let{notification:e}=d.A.useApp(),t=(0,n.useRouter)(),r=(0,s.wA)(),l=(0,s.d4)(f.VH),o=(0,s.d4)(f.rk),[j,v]=(0,i.useState)(!1),[w]=c.A.useForm(),N=o>50?0:5,S=.07*o,z=o+N+S,C=async a=>{v(!0);try{if(!(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:A},body:JSON.stringify({items:l,total:z,shippingAddress:{firstName:a.firstName,lastName:a.lastName,address:a.address,apartment:a.apartment,city:a.city,state:a.state,zipCode:a.zipCode,phone:a.phone},paymentMethod:a.paymentMethod})})).ok)throw Error("Failed to place order");r((0,f.sX)()),await fetch("/api/cart",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:A},body:JSON.stringify({clearAll:!0})}),e.success({message:"Order placed successfully",description:"Thank you for your purchase!"}),t.push("/account/orders")}catch(t){e.error({message:"Error",description:"Failed to place order. Please try again."})}finally{v(!1)}};return(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)(g,{level:2,children:"Checkout"}),(0,a.jsxs)(c.A,{form:w,layout:"vertical",onFinish:C,className:"space-y-6",children:[(0,a.jsx)(x.A,{title:"Contact Information",children:(0,a.jsx)(c.A.Item,{name:"email",label:"Email",rules:[{required:!0,type:"email"}],children:(0,a.jsx)(u.A,{})})}),(0,a.jsxs)(x.A,{title:"Shipping Address",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(c.A.Item,{name:"firstName",label:"First name",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})}),(0,a.jsx)(c.A.Item,{name:"lastName",label:"Last name",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})})]}),(0,a.jsx)(c.A.Item,{name:"address",label:"Address",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})}),(0,a.jsx)(c.A.Item,{name:"apartment",label:"Apartment, suite, etc.",children:(0,a.jsx)(u.A,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(c.A.Item,{name:"city",label:"City",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})}),(0,a.jsx)(c.A.Item,{name:"state",label:"State",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})}),(0,a.jsx)(c.A.Item,{name:"zipCode",label:"ZIP code",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})})]}),(0,a.jsx)(c.A.Item,{name:"phone",label:"Phone",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})})]}),(0,a.jsxs)(x.A,{title:"Payment Method",children:[(0,a.jsx)(c.A.Item,{name:"paymentMethod",rules:[{required:!0}],initialValue:"credit-card",children:(0,a.jsx)(h.Ay.Group,{className:"w-full",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(h.Ay,{value:"credit-card",className:"w-full pb-4 border-b",children:"Credit Card"}),(0,a.jsx)(h.Ay,{value:"paypal",className:"w-full",children:"PayPal"})]})})}),(0,a.jsx)(c.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.paymentMethod!==t.paymentMethod,children:e=>{let{getFieldValue:t}=e;return"credit-card"===t("paymentMethod")&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c.A.Item,{name:"cardNumber",label:"Card number",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(c.A.Item,{name:"cardExpiry",label:"Expiration date",rules:[{required:!0}],children:(0,a.jsx)(u.A,{placeholder:"MM/YY"})}),(0,a.jsx)(c.A.Item,{name:"cardCvc",label:"CVC",rules:[{required:!0}],children:(0,a.jsx)(u.A,{})})]})]})}})]}),(0,a.jsx)(m.Ay,{type:"primary",htmlType:"submit",size:"large",loading:j,block:!0,children:"Place Order"})]})]}),(0,a.jsx)("div",{children:(0,a.jsxs)(x.A,{children:[(0,a.jsx)(g,{level:4,children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-4",children:[l.map(e=>(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"relative w-16 h-16",children:(0,a.jsx)(y.default,{src:e.image||"/placeholder.svg",alt:e.title,fill:!0,className:"object-contain"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(b,{className:"block",children:e.title}),(0,a.jsxs)(b,{type:"secondary",className:"block",children:[e.color," | ",e.size," | Qty: ",e.quantity]}),(0,a.jsxs)(b,{className:"block",children:["$",(e.price*e.quantity).toFixed(2)]})]})]},"".concat(e.id,"-").concat(e.color,"-").concat(e.size))),(0,a.jsx)(p.A,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(b,{children:"Subtotal"}),(0,a.jsxs)(b,{children:["$",o.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(b,{children:"Shipping"}),(0,a.jsxs)(b,{children:["$",N.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(b,{children:"Tax"}),(0,a.jsxs)(b,{children:["$",S.toFixed(2)]})]}),(0,a.jsx)(p.A,{}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(b,{strong:!0,children:"Total"}),(0,a.jsxs)(b,{strong:!0,children:["$",z.toFixed(2)]})]})]})]})]})})]})})}var w=r(72093);function N(){let{user:e}=(0,l.A)(),t=(0,n.useRouter)();return((0,i.useEffect)(()=>{null===e&&t.push("/auth/signup")},[e,t]),void 0===e)?(0,a.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,a.jsx)(w.A,{size:"large"})}):null===e?null:(0,a.jsx)(v,{})}},6769:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>m,Fy:()=>l,VH:()=>u,bE:()=>n,jt:()=>s,rS:()=>o,rk:()=>h,sX:()=>c});var a=r(72212);let i=r(2818).env.API_AUTH_KEY||"qwerty123",n=(0,a.zD)("cart/addToCart",async e=>{let t=await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({item:e})});if(!t.ok)throw Error("Failed to add item to cart");return t.json()}),l=(0,a.zD)("cart/fetchCart",async()=>{let e=await fetch("/api/cart",{headers:{Authorization:i}});if(!e.ok)throw Error("Failed to fetch cart");return e.json()}),s=(0,a.zD)("cart/removeFromCart",async e=>{let{id:t,color:r,size:a}=e,n=await fetch("/api/cart",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({id:t,color:r,size:a})});if(!n.ok)throw Error("Failed to remove item from cart");return n.json()}),o=(0,a.zD)("cart/updateQuantity",async e=>{let{id:t,color:r,size:a,quantity:n}=e,l=await fetch("/api/cart",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:i},body:JSON.stringify({id:t,color:r,size:a,quantity:n})});if(!l.ok)throw Error("Failed to update item quantity");return l.json()}),d=(0,a.Z0)({name:"cart",initialState:{items:[],status:"idle",error:null},reducers:{clearCart:e=>{e.items=[]}},extraReducers:e=>{e.addCase(n.pending,e=>{e.status="loading"}).addCase(n.fulfilled,(e,t)=>{e.status="succeeded",e.items=t.payload.items}).addCase(n.rejected,(e,t)=>{e.status="failed",e.error=t.error.message||"Failed to add item to cart"}).addCase(l.fulfilled,(e,t)=>{e.items=t.payload.items}).addCase(s.fulfilled,(e,t)=>{e.items=t.payload.items}).addCase(o.fulfilled,(e,t)=>{e.items=t.payload.items})}}),{clearCart:c}=d.actions,u=e=>e.cart.items,h=e=>e.cart.items.reduce((e,t)=>e+t.price*t.quantity,0),m=d.reducer},78365:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,AuthProvider:()=>s});var a=r(95155),i=r(12115),n=r(76046);let l=(0,i.createContext)(void 0);function s(e){let{children:t}=e,[r,s]=(0,i.useState)(null),o=(0,n.useRouter)();(0,i.useEffect)(()=>{let e=localStorage.getItem("user");e&&s(JSON.parse(e))},[]);let d=async(e,t)=>{let r={id:"1",email:e};s(r),localStorage.setItem("user",JSON.stringify(r))},c=async(e,t)=>{let r={id:"1",email:e};s(r),localStorage.setItem("user",JSON.stringify(r))};return(0,a.jsx)(l.Provider,{value:{user:r,login:d,logout:()=>{s(null),localStorage.removeItem("user"),o.push("/")},signup:c},children:t})}function o(){let e=(0,i.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9365:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var a=r(12115),i=r(4617),n=r.n(i),l=r(31049),s=r(67548),o=r(70695),d=r(1086),c=r(56204);let u=e=>{let{componentCls:t,sizePaddingEdgeHorizontal:r,colorSplit:a,lineWidth:i,textPaddingInline:n,orientationMargin:l,verticalMarginInline:d}=e;return{[t]:Object.assign(Object.assign({},(0,o.dF)(e)),{borderBlockStart:"".concat((0,s.zA)(i)," solid ").concat(a),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:d,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat((0,s.zA)(i)," solid ").concat(a)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat((0,s.zA)(e.dividerHorizontalGutterMargin)," 0")},["&-horizontal".concat(t,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat((0,s.zA)(e.dividerHorizontalWithTextGutterMargin)," 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(a),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat((0,s.zA)(i)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(t,"-with-text-start")]:{"&::before":{width:"calc(".concat(l," * 100%)")},"&::after":{width:"calc(100% - ".concat(l," * 100%)")}},["&-horizontal".concat(t,"-with-text-end")]:{"&::before":{width:"calc(100% - ".concat(l," * 100%)")},"&::after":{width:"calc(".concat(l," * 100%)")}},["".concat(t,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:n},"&-dashed":{background:"none",borderColor:a,borderStyle:"dashed",borderWidth:"".concat((0,s.zA)(i)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(t,"-dashed")]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:a,borderStyle:"dotted",borderWidth:"".concat((0,s.zA)(i)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dotted")]:{"&::before, &::after":{borderStyle:"dotted none none"}},["&-vertical".concat(t,"-dotted")]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(t,"-with-text")]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},["&-horizontal".concat(t,"-with-text-start").concat(t,"-no-default-orientation-margin-start")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(t,"-inner-text")]:{paddingInlineStart:r}},["&-horizontal".concat(t,"-with-text-end").concat(t,"-no-default-orientation-margin-end")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(t,"-inner-text")]:{paddingInlineEnd:r}}})}},h=(0,d.OF)("Divider",e=>[u((0,c.oX)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0}))],e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}});var m=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r};let p=e=>{let{getPrefixCls:t,direction:r,className:i,style:s}=(0,l.TP)("divider"),{prefixCls:o,type:d="horizontal",orientation:c="center",orientationMargin:u,className:p,rootClassName:f,children:x,dashed:y,variant:j="solid",plain:g,style:b}=e,A=m(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),v=t("divider",o),[w,N,S]=h(v),z=!!x,C=a.useMemo(()=>"left"===c?"rtl"===r?"end":"start":"right"===c?"rtl"===r?"start":"end":c,[r,c]),I="start"===C&&null!=u,E="end"===C&&null!=u,O=n()(v,i,N,S,"".concat(v,"-").concat(d),{["".concat(v,"-with-text")]:z,["".concat(v,"-with-text-").concat(C)]:z,["".concat(v,"-dashed")]:!!y,["".concat(v,"-").concat(j)]:"solid"!==j,["".concat(v,"-plain")]:!!g,["".concat(v,"-rtl")]:"rtl"===r,["".concat(v,"-no-default-orientation-margin-start")]:I,["".concat(v,"-no-default-orientation-margin-end")]:E},p,f),k=a.useMemo(()=>"number"==typeof u?u:/^\d+$/.test(u)?Number(u):u,[u]);return w(a.createElement("div",Object.assign({className:O,style:Object.assign(Object.assign({},s),b)},A,{role:"separator"}),x&&"vertical"!==d&&a.createElement("span",{className:"".concat(v,"-inner-text"),style:{marginInlineStart:I?k:void 0,marginInlineEnd:E?k:void 0}},x)))}},45353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let a=r(12115);function i(e,t){let r=(0,a.useRef)(()=>{}),i=(0,a.useRef)(()=>{});return(0,a.useMemo)(()=>e&&t?a=>{null===a?(r.current(),i.current()):(r.current=n(e,a),i.current=n(t,a))}:e||t,[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[6653,1628,9891,418,7483,4766,9005,235,2236,4522,5565,1432,2093,8342,627,3414,9351,8441,1517,7358],()=>t(36378)),_N_E=e.O()}]);